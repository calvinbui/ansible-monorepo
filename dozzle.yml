---

- hosts: homeserver

  vars:
    application: dozzle

    container_network: "{{ networks.pub }}"

  tasks:
    - name: Create container
      ansible.builtin.include_role:
        name: podman_container
      vars:
        image: ghcr.io/amir20/dozzle:v8.14.9
        env:
          DOZZLE_NO_ANALYTICS: "true"
        volumes:
          - /run/podman/podman.sock:/var/run/docker.sock:ro
        traefik:
          - port: 8080
            auth: page
        homepage:
          group: Favourites
          weight: 950
          description: "Logs for docker containers"
