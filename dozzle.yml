---

- hosts: homelab

  vars:
    application: dozzle

    docker_network: "{{ networks.pub }}"

  tasks:
    - name: Create container
      ansible.builtin.include_role:
        name: docker_container
      vars:
        image: amir20/dozzle:v5.2.1
        volumes:
          - /var/run/docker.sock:/var/run/docker.sock:ro
        env:
          DOZZLE_NO_ANALYTICS: "true"
        traefik:
          - port: 8080
            auth: page
        homepage:
          name: Dozzle
          group: Monitoring
          weight: 200
          description: "Logs for docker containers"
