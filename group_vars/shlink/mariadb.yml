---

mariadb_name: shlink-mariadb
mariadb_version: '10'
mariadb_image: "mariadb:{{ mariadb_version }}"
mariadb_ports: []
mariadb_volumes:
  - "{{ common_directory }}/shlink/mariadb:/var/lib/mysql"
mariadb_environment_variables:
  MYSQL_ROOT_PASSWORD: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          35656464313165313664643262633065613264616430643964306231386539383635616337346439
          6464643466663366333365653765643236303964313433350a613636653665313833633835376338
          36666634313963396137396537613163366635396363633336656435363436613630313833633638
          3261663635383264320a386163323566336364343234613631626234653961383435316634643638
          33393730643765623266633333616332636230333563376531376262346436396238326638633537
          6435303963373661636139393433636235386533333062343437
  MYSQL_DATABASE: shlink

mariadb_docker_additional_options:
  networks:
    - name: "{{ network.name }}"
      ipv4_address: "{{ network.prefix }}.24"
  labels:
    traefik.enable: "false"
    com.datadoghq.ad.check_names: '["mysql"]'
    com.datadoghq.ad.init_configs: '[{}]'
    com.datadoghq.ad.instances: '[{"server":"%%host%%","port":"3306","user":"root","pass":"{{ mariadb_environment_variables.MYSQL_ROOT_PASSWORD | string }}"}]'
