---

organizr_name: organizr
organizr_image: organizrtools/organizr-v2
organizr_config_directory: "{{ common_directory }}/organizr"
organizr_environment_variables:
  PUID: "{{ common_user_id }}"
  PGID: "{{ common_group_id }}"

organizr_docker_additional_options:
  networks:
    - name: "{{ network.name }}"
      ipv4_address: "{{ network.prefix }}.10"
  labels:
    traefik.http.routers.organizr.entrypoints: "web"
    traefik.http.routers.organizr.middlewares: "redirect@file"
    traefik.http.routers.organizr.rule: "Host(`{{ common_tld }}`)"

    traefik.http.routers.organizr-secure.entrypoints: "web-secure"
    traefik.http.routers.organizr-secure.rule: "Host(`{{ common_tld }}`)"
    traefik.http.routers.organizr-secure.tls: "true"
    traefik.http.routers.organizr-secure.tls.certresolver: letsencrypt

    traefik.http.services.organizr.loadbalancer.server.port: "80"

    com.datadoghq.ad.check_names: '["http_check"]'
    com.datadoghq.ad.init_configs: '[{}]'
    com.datadoghq.ad.instances: '[{"name":"{{ organizr_name }}","url":"https://{{ common_tld | string }}"}]'
