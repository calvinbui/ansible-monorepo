---

mariadb_name: bookstack-mariadb
mariadb_version: '10'
mariadb_image: "mariadb:{{ mariadb_version }}"
mariadb_ports: []
mariadb_volumes:
  - "{{ common_directory }}/bookstack/mariadb:/var/lib/mysql"
mariadb_environment_variables:
  MYSQL_ROOT_PASSWORD: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          38656365626264363335636631333233666139353539343830613135616439313063383334326438
          3362326165313130663265336166646162303132363961300a353365623239353430326635666131
          36323938336637346237623330633937343134343730353035303735663731306539643465386364
          3035663661396338360a326262373836636433626536383966653037356630393763363337663365
          34303963653163323530303766303737633333616162326337643639316237333733353730386432
          3535636531613238363937636364656433393532393138333861
  MYSQL_DATABASE: bookstackapp
  MYSQL_USER: bookstackuser
  MYSQL_PASSWORD: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          39623662386439313463323934386663643364623437393262613266313063393735386136353134
          3061343661306431613732313663363961323835633437620a656531326639633864336165653133
          64326361613732353334343136363062646335663330613032653438646162656538643462306265
          3462323032626634370a396661656634393137386539363031316363363230346664303836323965
          31613331643936303832386133643734636632326233353263373465313936303663663630663931
          6233356438383331383336343334663837626530646166373437

mariadb_docker_additional_options:
  networks:
    - name: "{{ network.name }}"
      ipv4_address: "{{ network.prefix }}.17"
  labels:
    traefik.enable: "false"
    com.datadoghq.ad.check_names: '["mysql"]'
    com.datadoghq.ad.init_configs: '[{}]'
    com.datadoghq.ad.instances: '[{"server":"%%host%%","port":"3306","user":"root","pass":"{{ mariadb_environment_variables.MYSQL_ROOT_PASSWORD | string }}"}]'
