---

piwigo_name: piwigo
piwigo_image: linuxserver/piwigo
piwigo_volumes:
  - "{{ common_directory }}/piwigo/piwigo:/config"
  - "{{ common_directory_photos }}:/photos"
piwigo_environment_variables:
  PUID: "{{ common_user_id }}"
  PGID: "{{ common_group_id }}"
  TZ: "{{ common_timezone }}"

piwigo_docker_additional_options:
  labels:
    traefik.http.routers.piwigo.entrypoints: "web"
    traefik.http.routers.piwigo.middlewares: "redirect@file"
    
    traefik.http.routers.piwigo-secure.entrypoints: "web-secure"
    traefik.http.routers.piwigo-secure.tls: "true"
    traefik.http.routers.piwigo-secure.tls.certresolver: letsencrypt
    
    traefik.http.services.piwigo.loadbalancer.server.port: "80"

    com.datadoghq.ad.check_names: '["http_check"]'
    com.datadoghq.ad.init_configs: '[{}]'
    com.datadoghq.ad.instances: '[{"name":"{{ piwigo_name }}","url":"https://{{ piwigo_name }}.{{ common_tld | string }}"}]'
